function cov_23lrq7gppl(){var path="C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\services\\user\\config\\routes.js";var hash="f736f8a159163780bce771c24bade8623b08e278";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\services\\user\\config\\routes.js",statementMap:{"0":{start:{line:1,column:0},end:{line:28,column:2}},"1":{start:{line:3,column:2},end:{line:3,column:37}},"2":{start:{line:6,column:2},end:{line:27,column:5}},"3":{start:{line:8,column:4},end:{line:18,column:5}},"4":{start:{line:9,column:21},end:{line:9,column:46}},"5":{start:{line:10,column:22},end:{line:10,column:69}},"6":{start:{line:12,column:21},end:{line:12,column:23}},"7":{start:{line:13,column:6},end:{line:15,column:7}},"8":{start:{line:14,column:8},end:{line:14,column:40}},"9":{start:{line:17,column:6},end:{line:17,column:66}},"10":{start:{line:21,column:4},end:{line:23,column:5}},"11":{start:{line:22,column:6},end:{line:22,column:82}},"12":{start:{line:26,column:4},end:{line:26,column:79}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:1,column:17},end:{line:1,column:18}},loc:{start:{line:1,column:26},end:{line:28,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:35},end:{line:27,column:3}},line:6}},branchMap:{"0":{loc:{start:{line:8,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:18,column:5}},{start:{line:8,column:4},end:{line:18,column:5}}],line:8},"1":{loc:{start:{line:10,column:38},end:{line:10,column:66}},type:"cond-expr",locations:[{start:{line:10,column:58},end:{line:10,column:61}},{start:{line:10,column:64},end:{line:10,column:66}}],line:10},"2":{loc:{start:{line:21,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:23,column:5}},{start:{line:21,column:4},end:{line:23,column:5}}],line:21}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f736f8a159163780bce771c24bade8623b08e278"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_23lrq7gppl=function(){return actualCoverage;};}return actualCoverage;}cov_23lrq7gppl();cov_23lrq7gppl().s[0]++;module.exports=app=>{cov_23lrq7gppl().f[0]++;cov_23lrq7gppl().s[1]++;// Connect routes
app.use('/',require('../routes'));// Error handler
cov_23lrq7gppl().s[2]++;app.use((err,req,res,next)=>{cov_23lrq7gppl().f[1]++;cov_23lrq7gppl().s[3]++;// Handle mongoose validation errors
if(err.name==='ValidationError'){cov_23lrq7gppl().b[0][0]++;const errors=(cov_23lrq7gppl().s[4]++,Object.values(err.errors));const message=(cov_23lrq7gppl().s[5]++,`Invalid field${errors.length>1?(cov_23lrq7gppl().b[1][0]++,'s'):(cov_23lrq7gppl().b[1][1]++,'')}.`);const fields=(cov_23lrq7gppl().s[6]++,{});cov_23lrq7gppl().s[7]++;for(const error of errors){cov_23lrq7gppl().s[8]++;fields[error.path]=error.kind;}cov_23lrq7gppl().s[9]++;return res.status(400).json({error:{message,fields}});}else{cov_23lrq7gppl().b[0][1]++;}// Handle internally created errors
cov_23lrq7gppl().s[10]++;if(err.name==='ApplicationError'){cov_23lrq7gppl().b[2][0]++;cov_23lrq7gppl().s[11]++;return res.status(err.statusCode).json({error:{message:err.message}});}else{cov_23lrq7gppl().b[2][1]++;}// Last line of defense
cov_23lrq7gppl().s[12]++;res.status(500).json({error:{message:'An unknown error occurred.'}});});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBwIiwidXNlIiwicmVxdWlyZSIsImVyciIsInJlcSIsInJlcyIsIm5leHQiLCJuYW1lIiwiZXJyb3JzIiwiT2JqZWN0IiwidmFsdWVzIiwibWVzc2FnZSIsImxlbmd0aCIsImZpZWxkcyIsImVycm9yIiwicGF0aCIsImtpbmQiLCJzdGF0dXMiLCJqc29uIiwic3RhdHVzQ29kZSJdLCJtYXBwaW5ncyI6ImkrRUFlWTttSEFmWkEsTUFBTSxDQUFDQyxPQUFQLENBQWtCQyxHQUFELEVBQVMsaURBQ3hCO0FBQ0FBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsQ0FBYUMsT0FBTyxDQUFDLFdBQUQsQ0FBcEIsRUFFQTtBQUp3Qix3QkFLeEJGLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLENBQUNFLEdBQUQsQ0FBTUMsR0FBTixDQUFXQyxHQUFYLENBQWdCQyxJQUFoQixHQUF5QixpREFDL0I7QUFDQSxHQUFJSCxHQUFHLENBQUNJLElBQUosR0FBYSxpQkFBakIsQ0FBb0MsNEJBQ2xDLEtBQU1DLENBQUFBLE1BQU0sMEJBQUdDLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjUCxHQUFHLENBQUNLLE1BQWxCLENBQUgsQ0FBWixDQUNBLEtBQU1HLENBQUFBLE9BQU8sMEJBQUksZ0JBQWVILE1BQU0sQ0FBQ0ksTUFBUCxDQUFnQixDQUFoQiw2QkFBb0IsR0FBcEIsOEJBQTBCLEVBQTFCLENBQTZCLEdBQWhELENBQWIsQ0FFQSxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLEVBQUgsQ0FBWixDQUprQyx3QkFLbEMsSUFBSyxLQUFNQyxDQUFBQSxLQUFYLEdBQW9CTixDQUFBQSxNQUFwQixDQUE0Qix5QkFDMUJLLE1BQU0sQ0FBQ0MsS0FBSyxDQUFDQyxJQUFQLENBQU4sQ0FBcUJELEtBQUssQ0FBQ0UsSUFBM0IsQ0FDRCxDQVBpQyx3QkFTbEMsTUFBT1gsQ0FBQUEsR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsQ0FBRUosS0FBSyxDQUFFLENBQUVILE9BQUYsQ0FBV0UsTUFBWCxDQUFULENBQXJCLENBQVAsQ0FDRCxDQVZELGlDQVlBO0FBZCtCLHlCQWUvQixHQUFJVixHQUFHLENBQUNJLElBQUosR0FBYSxrQkFBakIsQ0FBcUMscURBQ25DLE1BQU9GLENBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXZCxHQUFHLENBQUNnQixVQUFmLEVBQTJCRCxJQUEzQixDQUFnQyxDQUFFSixLQUFLLENBQUUsQ0FBRUgsT0FBTyxDQUFFUixHQUFHLENBQUNRLE9BQWYsQ0FBVCxDQUFoQyxDQUFQLENBQ0QsQ0FGRCxpQ0FJQTtBQW5CK0IseUJBb0IvQk4sR0FBRyxDQUFDWSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsQ0FBRUosS0FBSyxDQUFFLENBQUVILE9BQU8sQ0FBRSw0QkFBWCxDQUFULENBQXJCLEVBQ0QsQ0FyQkQsRUFzQkQsQ0EzQkQiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IChhcHApID0+IHtcclxuICAvLyBDb25uZWN0IHJvdXRlc1xyXG4gIGFwcC51c2UoJy8nLCByZXF1aXJlKCcuLi9yb3V0ZXMnKSk7XHJcblxyXG4gIC8vIEVycm9yIGhhbmRsZXJcclxuICBhcHAudXNlKChlcnIsIHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcbiAgICAvLyBIYW5kbGUgbW9uZ29vc2UgdmFsaWRhdGlvbiBlcnJvcnNcclxuICAgIGlmIChlcnIubmFtZSA9PT0gJ1ZhbGlkYXRpb25FcnJvcicpIHtcclxuICAgICAgY29uc3QgZXJyb3JzID0gT2JqZWN0LnZhbHVlcyhlcnIuZXJyb3JzKTtcclxuICAgICAgY29uc3QgbWVzc2FnZSA9IGBJbnZhbGlkIGZpZWxkJHtlcnJvcnMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS5gO1xyXG5cclxuICAgICAgY29uc3QgZmllbGRzID0ge307XHJcbiAgICAgIGZvciAoY29uc3QgZXJyb3Igb2YgZXJyb3JzKSB7XHJcbiAgICAgICAgZmllbGRzW2Vycm9yLnBhdGhdID0gZXJyb3Iua2luZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IHsgbWVzc2FnZSwgZmllbGRzIH0gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFuZGxlIGludGVybmFsbHkgY3JlYXRlZCBlcnJvcnNcclxuICAgIGlmIChlcnIubmFtZSA9PT0gJ0FwcGxpY2F0aW9uRXJyb3InKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKGVyci5zdGF0dXNDb2RlKS5qc29uKHsgZXJyb3I6IHsgbWVzc2FnZTogZXJyLm1lc3NhZ2UgfSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMYXN0IGxpbmUgb2YgZGVmZW5zZVxyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogeyBtZXNzYWdlOiAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4nIH0gfSk7XHJcbiAgfSk7XHJcbn07XHJcbiJdfQ==