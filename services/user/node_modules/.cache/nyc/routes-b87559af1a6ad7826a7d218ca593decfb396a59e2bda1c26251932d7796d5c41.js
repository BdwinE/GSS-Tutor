function cov_gy35ybw6i(){var path="C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Azure_Devops_FEV_Tutor_repo\\services\\tutor\\config\\routes.js";var hash="c6749077cd8e0f99cc6fa66309eaf930e670c5c6";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Azure_Devops_FEV_Tutor_repo\\services\\tutor\\config\\routes.js",statementMap:{"0":{start:{line:1,column:0},end:{line:28,column:2}},"1":{start:{line:3,column:2},end:{line:3,column:37}},"2":{start:{line:6,column:2},end:{line:27,column:5}},"3":{start:{line:8,column:4},end:{line:18,column:5}},"4":{start:{line:9,column:21},end:{line:9,column:46}},"5":{start:{line:10,column:20},end:{line:10,column:67}},"6":{start:{line:12,column:21},end:{line:12,column:23}},"7":{start:{line:13,column:6},end:{line:15,column:7}},"8":{start:{line:14,column:8},end:{line:14,column:40}},"9":{start:{line:17,column:6},end:{line:17,column:64}},"10":{start:{line:21,column:4},end:{line:23,column:5}},"11":{start:{line:22,column:6},end:{line:22,column:78}},"12":{start:{line:26,column:4},end:{line:26,column:77}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:1,column:17},end:{line:1,column:18}},loc:{start:{line:1,column:26},end:{line:28,column:1}},line:1},"1":{name:"(anonymous_1)",decl:{start:{line:6,column:10},end:{line:6,column:11}},loc:{start:{line:6,column:35},end:{line:27,column:3}},line:6}},branchMap:{"0":{loc:{start:{line:8,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:18,column:5}},{start:{line:8,column:4},end:{line:18,column:5}}],line:8},"1":{loc:{start:{line:10,column:36},end:{line:10,column:64}},type:"cond-expr",locations:[{start:{line:10,column:56},end:{line:10,column:59}},{start:{line:10,column:62},end:{line:10,column:64}}],line:10},"2":{loc:{start:{line:21,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:23,column:5}},{start:{line:21,column:4},end:{line:23,column:5}}],line:21}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c6749077cd8e0f99cc6fa66309eaf930e670c5c6"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_gy35ybw6i=function(){return actualCoverage;};}return actualCoverage;}cov_gy35ybw6i();cov_gy35ybw6i().s[0]++;module.exports=app=>{cov_gy35ybw6i().f[0]++;cov_gy35ybw6i().s[1]++;// Connect routes
app.use('/',require('../routes'));// Error handler
cov_gy35ybw6i().s[2]++;app.use((err,req,res,next)=>{cov_gy35ybw6i().f[1]++;cov_gy35ybw6i().s[3]++;// Handle mongoose validation errors
if(err.name==='ValidationError'){cov_gy35ybw6i().b[0][0]++;const errors=(cov_gy35ybw6i().s[4]++,Object.values(err.errors));const tutor=(cov_gy35ybw6i().s[5]++,`Invalid field${errors.length>1?(cov_gy35ybw6i().b[1][0]++,'s'):(cov_gy35ybw6i().b[1][1]++,'')}.`);const fields=(cov_gy35ybw6i().s[6]++,{});cov_gy35ybw6i().s[7]++;for(const error of errors){cov_gy35ybw6i().s[8]++;fields[error.path]=error.kind;}cov_gy35ybw6i().s[9]++;return res.status(400).json({error:{tutor,fields}});}else{cov_gy35ybw6i().b[0][1]++;}// Handle internally created errors
cov_gy35ybw6i().s[10]++;if(err.name==='ApplicationError'){cov_gy35ybw6i().b[2][0]++;cov_gy35ybw6i().s[11]++;return res.status(err.statusCode).json({error:{tutor:err.tutor}});}else{cov_gy35ybw6i().b[2][1]++;}// Last line of defense
cov_gy35ybw6i().s[12]++;res.status(500).json({error:{tutor:'An unknown error occurred.'}});});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdXRlcy5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBwIiwidXNlIiwicmVxdWlyZSIsImVyciIsInJlcSIsInJlcyIsIm5leHQiLCJuYW1lIiwiZXJyb3JzIiwiT2JqZWN0IiwidmFsdWVzIiwidHV0b3IiLCJsZW5ndGgiLCJmaWVsZHMiLCJlcnJvciIsInBhdGgiLCJraW5kIiwic3RhdHVzIiwianNvbiIsInN0YXR1c0NvZGUiXSwibWFwcGluZ3MiOiJrNkVBZVk7Z0hBZlpBLE1BQU0sQ0FBQ0MsT0FBUCxDQUFrQkMsR0FBRCxFQUFTLCtDQUN4QjtBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUSxHQUFSLENBQWFDLE9BQU8sQ0FBQyxXQUFELENBQXBCLEVBRUE7QUFKd0IsdUJBS3hCRixHQUFHLENBQUNDLEdBQUosQ0FBUSxDQUFDRSxHQUFELENBQU1DLEdBQU4sQ0FBV0MsR0FBWCxDQUFnQkMsSUFBaEIsR0FBeUIsK0NBQy9CO0FBQ0EsR0FBSUgsR0FBRyxDQUFDSSxJQUFKLEdBQWEsaUJBQWpCLENBQW9DLDJCQUNsQyxLQUFNQyxDQUFBQSxNQUFNLHlCQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBY1AsR0FBRyxDQUFDSyxNQUFsQixDQUFILENBQVosQ0FDQSxLQUFNRyxDQUFBQSxLQUFLLHlCQUFJLGdCQUFlSCxNQUFNLENBQUNJLE1BQVAsQ0FBZ0IsQ0FBaEIsNEJBQW9CLEdBQXBCLDZCQUEwQixFQUExQixDQUE2QixHQUFoRCxDQUFYLENBRUEsS0FBTUMsQ0FBQUEsTUFBTSx5QkFBRyxFQUFILENBQVosQ0FKa0MsdUJBS2xDLElBQUssS0FBTUMsQ0FBQUEsS0FBWCxHQUFvQk4sQ0FBQUEsTUFBcEIsQ0FBNEIsd0JBQzFCSyxNQUFNLENBQUNDLEtBQUssQ0FBQ0MsSUFBUCxDQUFOLENBQXFCRCxLQUFLLENBQUNFLElBQTNCLENBQ0QsQ0FQaUMsdUJBU2xDLE1BQU9YLENBQUFBLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLENBQUVKLEtBQUssQ0FBRSxDQUFFSCxLQUFGLENBQVNFLE1BQVQsQ0FBVCxDQUFyQixDQUFQLENBQ0QsQ0FWRCxnQ0FZQTtBQWQrQix3QkFlL0IsR0FBSVYsR0FBRyxDQUFDSSxJQUFKLEdBQWEsa0JBQWpCLENBQXFDLG1EQUNuQyxNQUFPRixDQUFBQSxHQUFHLENBQUNZLE1BQUosQ0FBV2QsR0FBRyxDQUFDZ0IsVUFBZixFQUEyQkQsSUFBM0IsQ0FBZ0MsQ0FBRUosS0FBSyxDQUFFLENBQUVILEtBQUssQ0FBRVIsR0FBRyxDQUFDUSxLQUFiLENBQVQsQ0FBaEMsQ0FBUCxDQUNELENBRkQsZ0NBSUE7QUFuQitCLHdCQW9CL0JOLEdBQUcsQ0FBQ1ksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLENBQUVKLEtBQUssQ0FBRSxDQUFFSCxLQUFLLENBQUUsNEJBQVQsQ0FBVCxDQUFyQixFQUNELENBckJELEVBc0JELENBM0JEIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAoYXBwKSA9PiB7XHJcbiAgLy8gQ29ubmVjdCByb3V0ZXNcclxuICBhcHAudXNlKCcvJywgcmVxdWlyZSgnLi4vcm91dGVzJykpO1xyXG5cclxuICAvLyBFcnJvciBoYW5kbGVyXHJcbiAgYXBwLnVzZSgoZXJyLCByZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgLy8gSGFuZGxlIG1vbmdvb3NlIHZhbGlkYXRpb24gZXJyb3JzXHJcbiAgICBpZiAoZXJyLm5hbWUgPT09ICdWYWxpZGF0aW9uRXJyb3InKSB7XHJcbiAgICAgIGNvbnN0IGVycm9ycyA9IE9iamVjdC52YWx1ZXMoZXJyLmVycm9ycyk7XHJcbiAgICAgIGNvbnN0IHR1dG9yID0gYEludmFsaWQgZmllbGQke2Vycm9ycy5sZW5ndGggPiAxID8gJ3MnIDogJyd9LmA7XHJcblxyXG4gICAgICBjb25zdCBmaWVsZHMgPSB7fTtcclxuICAgICAgZm9yIChjb25zdCBlcnJvciBvZiBlcnJvcnMpIHtcclxuICAgICAgICBmaWVsZHNbZXJyb3IucGF0aF0gPSBlcnJvci5raW5kO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogeyB0dXRvciwgZmllbGRzIH0gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFuZGxlIGludGVybmFsbHkgY3JlYXRlZCBlcnJvcnNcclxuICAgIGlmIChlcnIubmFtZSA9PT0gJ0FwcGxpY2F0aW9uRXJyb3InKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKGVyci5zdGF0dXNDb2RlKS5qc29uKHsgZXJyb3I6IHsgdHV0b3I6IGVyci50dXRvciB9IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIExhc3QgbGluZSBvZiBkZWZlbnNlXHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiB7IHR1dG9yOiAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC4nIH0gfSk7XHJcbiAgfSk7XHJcbn07XHJcbiJdfQ==