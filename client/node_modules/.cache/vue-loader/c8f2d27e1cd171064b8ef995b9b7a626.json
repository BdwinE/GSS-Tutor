{"remainingRequest":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\src\\components\\messages\\MessagesNav.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\src\\components\\messages\\MessagesNav.vue","mtime":1619908030896},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619908227131},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1619908227181},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1619908226782},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619908227131},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1619908281553}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdNZXNzYWdlc05hdicsDQoNCiAgICBjb21wdXRlZDogew0KICAgICAgICAuLi5tYXBHZXR0ZXJzKHsNCiAgICAgICAgICAgIHVzZXJJZDogJ2F1dGgvdXNlcklkJywNCiAgICAgICAgICAgIHJvb21zOiAnbWVzc2FnaW5nL3Jvb21zJywNCiAgICAgICAgfSksDQogICAgfSwNCg0KICAgIGNyZWF0ZWQoKXsNCiAgICAgICAgdGhpcy5sb2FkRGF0YSgpDQogICAgfSwNCg0KICAgIGJlZm9yZURlc3Ryb3koKXsNCiAgICAgICAgdGhpcy5jbGVhclJvb21zKCkNCiAgICB9LA0KDQogICAgbWV0aG9kczogew0KICAgICAgICAuLi5tYXBBY3Rpb25zKHsNCiAgICAgICAgICAgIGNsZWFyUm9vbXM6ICdtZXNzYWdpbmcvY2xlYXJSb29tcycsDQogICAgICAgICAgICBnZXRSb29tczogJ21lc3NhZ2luZy9nZXRSb29tcycsDQogICAgICAgICAgICBqb2luUm9vbXM6ICdtZXNzYWdpbmcvam9pblJvb21zJywNCiAgICAgICAgICAgIGxlYXZlQWxsUm9vbXM6ICdtZXNzYWdpbmcvbGVhdmVBbGxSb29tcycsDQogICAgICAgIH0pLA0KDQogICAgICAgIGFzeW5jIGxvYWREYXRhKCl7DQogICAgICAgICAgICBhd2FpdCB0aGlzLmdldFJvb21zKHsgYXV0aG9ySWQ6IHRoaXMudXNlcklkIH0pDQoNCiAgICAgICAgICAgIHRoaXMuam9pblJvb21zKHRoaXMucm9vbXMubWFwKHJvb20gPT4gcm9vbS5faWQpKQ0KICAgICAgICB9LA0KDQogICAgICAgIGlzQ3VycmVudFVzZXIoYXV0aG9ySWQpew0KICAgICAgICAgICAgcmV0dXJuIGF1dGhvcklkID09PSB0aGlzLnVzZXJJZA0KICAgICAgICB9LA0KDQogICAgICAgIGdldEF1dGhvcihyb29tLCBhdXRob3JJZCl7DQogICAgICAgICAgICByZXR1cm4gcm9vbS5hdXRob3JzLmZpbHRlcihhdXRob3IgPT4gYXV0aG9yLl9pZCA9PT0gYXV0aG9ySWQpWzBdIHx8IHt9DQogICAgICAgIH0sDQogICAgfSwNCn0NCg=="},{"version":3,"sources":["MessagesNav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"MessagesNav.vue","sourceRoot":"src/components/messages","sourcesContent":["<template>\r\n    <v-navigation-drawer app dark permanent>\r\n        <v-row class=\"fill-height\" no-gutters>\r\n            <v-col cols=\"12\" align-self=\"start\">\r\n                <v-list-item>\r\n                    <v-btn to=\"/dashboard\" class=\"mr-5\" icon>\r\n                        <v-icon>mdi-chevron-left</v-icon>\r\n                    </v-btn>\r\n                    <v-list-item-content>\r\n                        <v-list-item-title class=\"font-weight-medium\">\r\n                            Messages\r\n                        </v-list-item-title>\r\n                    </v-list-item-content>\r\n                </v-list-item>\r\n\r\n                <v-divider></v-divider>\r\n\r\n                <v-list nav>\r\n                    <v-list-item\r\n                        v-for=\"room in rooms\"\r\n                        :key=\"room._id\"\r\n                        :to=\"`/messages/rooms/${room._id}`\"\r\n                    >\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>{{ room.name }}</v-list-item-title>\r\n                            <v-list-item-subtitle v-if=\"room.mostRecentMessage && room.mostRecentMessage.authorId\" class=\"caption text-truncate\">\r\n                                {{\r\n                                    `${\r\n                                        isCurrentUser(room.mostRecentMessage.authorId)\r\n                                            ? 'Me'\r\n                                            : getAuthor(room, room.mostRecentMessage.authorId).firstName\r\n                                    }: ${room.mostRecentMessage.text}`\r\n                                }}\r\n                            </v-list-item-subtitle>\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-col>\r\n\r\n            <v-col v-if=\"$route.name !== 'create-room'\" cols=\"12\" align-self=\"end\">\r\n                <v-list nav>\r\n                    <v-list-item to=\"/messages/rooms\" exact>\r\n                        <v-list-item-icon>\r\n                            <v-icon>mdi-plus</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>Create Room</v-list-item-title>\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-col>\r\n        </v-row>\r\n    </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n    name: 'MessagesNav',\r\n\r\n    computed: {\r\n        ...mapGetters({\r\n            userId: 'auth/userId',\r\n            rooms: 'messaging/rooms',\r\n        }),\r\n    },\r\n\r\n    created(){\r\n        this.loadData()\r\n    },\r\n\r\n    beforeDestroy(){\r\n        this.clearRooms()\r\n    },\r\n\r\n    methods: {\r\n        ...mapActions({\r\n            clearRooms: 'messaging/clearRooms',\r\n            getRooms: 'messaging/getRooms',\r\n            joinRooms: 'messaging/joinRooms',\r\n            leaveAllRooms: 'messaging/leaveAllRooms',\r\n        }),\r\n\r\n        async loadData(){\r\n            await this.getRooms({ authorId: this.userId })\r\n\r\n            this.joinRooms(this.rooms.map(room => room._id))\r\n        },\r\n\r\n        isCurrentUser(authorId){\r\n            return authorId === this.userId\r\n        },\r\n\r\n        getAuthor(room, authorId){\r\n            return room.authors.filter(author => author._id === authorId)[0] || {}\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}