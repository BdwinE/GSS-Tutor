{"remainingRequest":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\src\\components\\messages\\MessagesNav.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\src\\components\\messages\\MessagesNav.vue","mtime":1619908030896},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619908227131},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1619908226782},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1619908227131},{"path":"C:\\Users\\asolu\\Desktop\\MSU_Denver\\Spring_2021\\Technical_Software_Proj\\Granular_Softwar_Solutions\\Granular%20Software%20Solutions\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1619908281553}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2Fzb2x1L0Rlc2t0b3AvTVNVX0RlbnZlci9TcHJpbmdfMjAyMS9UZWNobmljYWxfU29mdHdhcmVfUHJvai9HcmFudWxhcl9Tb2Z0d2FyX1NvbHV0aW9ucy9HcmFudWxhciUyMFNvZnR3YXJlJTIwU29sdXRpb25zL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL2Fzb2x1L0Rlc2t0b3AvTVNVX0RlbnZlci9TcHJpbmdfMjAyMS9UZWNobmljYWxfU29mdHdhcmVfUHJvai9HcmFudWxhcl9Tb2Z0d2FyX1NvbHV0aW9ucy9HcmFudWxhciUyMFNvZnR3YXJlJTIwU29sdXRpb25zL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01lc3NhZ2VzTmF2JywKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyh7CiAgICB1c2VySWQ6ICdhdXRoL3VzZXJJZCcsCiAgICByb29tczogJ21lc3NhZ2luZy9yb29tcycKICB9KSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZERhdGEoKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICB0aGlzLmNsZWFyUm9vbXMoKTsKICB9LAogIG1ldGhvZHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwQWN0aW9ucyh7CiAgICBjbGVhclJvb21zOiAnbWVzc2FnaW5nL2NsZWFyUm9vbXMnLAogICAgZ2V0Um9vbXM6ICdtZXNzYWdpbmcvZ2V0Um9vbXMnLAogICAgam9pblJvb21zOiAnbWVzc2FnaW5nL2pvaW5Sb29tcycsCiAgICBsZWF2ZUFsbFJvb21zOiAnbWVzc2FnaW5nL2xlYXZlQWxsUm9vbXMnCiAgfSkpLCB7fSwgewogICAgbG9hZERhdGE6IGZ1bmN0aW9uIGxvYWREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRSb29tcyh7CiAgICAgICAgICAgICAgICAgIGF1dGhvcklkOiBfdGhpcy51c2VySWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpcy5qb2luUm9vbXMoX3RoaXMucm9vbXMubWFwKGZ1bmN0aW9uIChyb29tKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiByb29tLl9pZDsKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGlzQ3VycmVudFVzZXI6IGZ1bmN0aW9uIGlzQ3VycmVudFVzZXIoYXV0aG9ySWQpIHsKICAgICAgcmV0dXJuIGF1dGhvcklkID09PSB0aGlzLnVzZXJJZDsKICAgIH0sCiAgICBnZXRBdXRob3I6IGZ1bmN0aW9uIGdldEF1dGhvcihyb29tLCBhdXRob3JJZCkgewogICAgICByZXR1cm4gcm9vbS5hdXRob3JzLmZpbHRlcihmdW5jdGlvbiAoYXV0aG9yKSB7CiAgICAgICAgcmV0dXJuIGF1dGhvci5faWQgPT09IGF1dGhvcklkOwogICAgICB9KVswXSB8fCB7fTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["MessagesNav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAGA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,MAAA,EAAA,aADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAAA,CADA,CAHA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,QAAA;AACA,GAZA;AAcA,EAAA,aAdA,2BAcA;AACA,SAAA,UAAA;AACA,GAhBA;AAkBA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,UAAA,EAAA,sBADA;AAEA,IAAA,QAAA,EAAA,oBAFA;AAGA,IAAA,SAAA,EAAA,qBAHA;AAIA,IAAA,aAAA,EAAA;AAJA,GAAA,CADA;AAQA,IAAA,QARA,sBAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,QAAA,CAAA;AAAA,kBAAA,QAAA,EAAA,KAAA,CAAA;AAAA,iBAAA,CADA;;AAAA;AAGA,gBAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,yBAAA,IAAA,CAAA,GAAA;AAAA,iBAAA,CAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KAZA;AAcA,IAAA,aAdA,yBAcA,QAdA,EAcA;AACA,aAAA,QAAA,KAAA,KAAA,MAAA;AACA,KAhBA;AAkBA,IAAA,SAlBA,qBAkBA,IAlBA,EAkBA,QAlBA,EAkBA;AACA,aAAA,IAAA,CAAA,OAAA,CAAA,MAAA,CAAA,UAAA,MAAA;AAAA,eAAA,MAAA,CAAA,GAAA,KAAA,QAAA;AAAA,OAAA,EAAA,CAAA,KAAA,EAAA;AACA;AApBA;AAlBA,CAAA","sourcesContent":["<template>\r\n    <v-navigation-drawer app dark permanent>\r\n        <v-row class=\"fill-height\" no-gutters>\r\n            <v-col cols=\"12\" align-self=\"start\">\r\n                <v-list-item>\r\n                    <v-btn to=\"/dashboard\" class=\"mr-5\" icon>\r\n                        <v-icon>mdi-chevron-left</v-icon>\r\n                    </v-btn>\r\n                    <v-list-item-content>\r\n                        <v-list-item-title class=\"font-weight-medium\">\r\n                            Messages\r\n                        </v-list-item-title>\r\n                    </v-list-item-content>\r\n                </v-list-item>\r\n\r\n                <v-divider></v-divider>\r\n\r\n                <v-list nav>\r\n                    <v-list-item\r\n                        v-for=\"room in rooms\"\r\n                        :key=\"room._id\"\r\n                        :to=\"`/messages/rooms/${room._id}`\"\r\n                    >\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>{{ room.name }}</v-list-item-title>\r\n                            <v-list-item-subtitle v-if=\"room.mostRecentMessage && room.mostRecentMessage.authorId\" class=\"caption text-truncate\">\r\n                                {{\r\n                                    `${\r\n                                        isCurrentUser(room.mostRecentMessage.authorId)\r\n                                            ? 'Me'\r\n                                            : getAuthor(room, room.mostRecentMessage.authorId).firstName\r\n                                    }: ${room.mostRecentMessage.text}`\r\n                                }}\r\n                            </v-list-item-subtitle>\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-col>\r\n\r\n            <v-col v-if=\"$route.name !== 'create-room'\" cols=\"12\" align-self=\"end\">\r\n                <v-list nav>\r\n                    <v-list-item to=\"/messages/rooms\" exact>\r\n                        <v-list-item-icon>\r\n                            <v-icon>mdi-plus</v-icon>\r\n                        </v-list-item-icon>\r\n                        <v-list-item-content>\r\n                            <v-list-item-title>Create Room</v-list-item-title>\r\n                        </v-list-item-content>\r\n                    </v-list-item>\r\n                </v-list>\r\n            </v-col>\r\n        </v-row>\r\n    </v-navigation-drawer>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n    name: 'MessagesNav',\r\n\r\n    computed: {\r\n        ...mapGetters({\r\n            userId: 'auth/userId',\r\n            rooms: 'messaging/rooms',\r\n        }),\r\n    },\r\n\r\n    created(){\r\n        this.loadData()\r\n    },\r\n\r\n    beforeDestroy(){\r\n        this.clearRooms()\r\n    },\r\n\r\n    methods: {\r\n        ...mapActions({\r\n            clearRooms: 'messaging/clearRooms',\r\n            getRooms: 'messaging/getRooms',\r\n            joinRooms: 'messaging/joinRooms',\r\n            leaveAllRooms: 'messaging/leaveAllRooms',\r\n        }),\r\n\r\n        async loadData(){\r\n            await this.getRooms({ authorId: this.userId })\r\n\r\n            this.joinRooms(this.rooms.map(room => room._id))\r\n        },\r\n\r\n        isCurrentUser(authorId){\r\n            return authorId === this.userId\r\n        },\r\n\r\n        getAuthor(room, authorId){\r\n            return room.authors.filter(author => author._id === authorId)[0] || {}\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/components/messages"}]}